extends ../layout/layout

block js
    script(src="../js/ajaxAccount.js")

block var
    - page = "account";
    - countElems = 0;
    - photo;
    - tag;

block content
    div(class="container-account-user")
        div(class="content-account-user")
            div(class="welcome-text-account")
                div(class="welcome-account" id="welcome-account") Bienvenue #{login}
                div(class="text1-account")
                    | Afin d'avoir accès à toutes les fonctionnalités, merci de compléter ton profil !
            hr(class="hr-login")
            div(class="select-photo-profil-text-account") Upload et choisis une photo pour ton profil (5 max)
            div(class="photos-user-account", id="photos-user-account")
                if photosUsers
                    for photo in photosUsers
                        div(
                            class=((photo.photo_profil == 1) ? "div-photo-user star " : "div-photo-user")
                            id=photo.id
                            style='background-image: url("' + photo.src_photo + '")'
                            onclick="interactPhoto("+ photo.id +")"
                        )
                        if photo.photo_profil
                            img(
                                class="imgStar" id="imgStar"
                                src="/images/tools/star.png"
                            )
                        - countElems++;
                if photosUsers && countElems < 5 ||!photosUsers
                    label(for="my-file")
                        img(
                            class="input-file-trigger"
                            src="/images/upload/upload-female.png"
                        )
                    div(class="upload-app" id="upload-app")
                        form(
                            id="frmUploader" enctype="multipart/form-data"
                            action="/account/Upload" method="post"
                            )
                            input(
                                type="file" id="my-file"
                                name="photos-profil" accept="image/*"
                                onchange="submitPhoto()"
                            )
                div(class="interact-photos" id="interact-photos")
                    button(class="button del" id="button-del-account") supprimer ?
                    button(class="button profil" id="button-profil-account") photo de profil ?
                div(class=( locals.error ? "error red" : "error"), id="error") #{error}
            form(class="formAccount", id="formAccount")
                hr(class="hr-login")
                p Modifier mes infos ?
                div(class="emailRegisterText") Mon adresse Email
                    div: input(
                            class="modify-account emailRegisterInput" id="emailAccountInput"
                            name="emailRegisterInput"
                            type="email"
                            value= email
                            onblur="submitForm('email')"
                        )
                    div: input(
                    class="hiddenEmailRegisterInput" id="hiddenEmailAccountInput"
                    name="hiddenEmailRegisterInput"
                    type="hidden"
                    value=email
                    )
                div(class="loginRegisterText") Mon Login
                    div: input(
                            class="modify-account loginRegisterInput" id="loginAccountInput"
                            name="loginRegisterInput"
                            minlength="3" maxlength="16"
                            value=login
                            onblur="submitForm('login')"
                        )
                    div: input(
                    class="hiddenloginRegisterInput" id="hiddenloginAccountInput"
                    name="hiddenloginRegisterInput"
                    type="hidden"
                    value=login
                    )
                div(class="lastNameRegisterText") Mon Nom
                    div: input(
                            class="modify-account lastNameRegisterInput" id="lastNameAccountInput"
                            name="lastNameRegisterInput"
                            value=name
                            onblur="submitForm('name')"
                        )
                    div: input(
                    class="hiddenNameRegisterInput" id="hiddenNameAccountInput"
                    name="hiddenNameRegisterInput"
                    type="hidden"
                    value=name
                    )
                div(class="firstNameRegisterText") Mon Prénom
                    div: input(
                            class="modify-account firstNameRegisterInput" id="firstNameAccountInput"
                            name="firstNameRegisterInput"
                            value=firstName
                            onblur="submitForm('firstName')"
                    )
                    div: input(
                    class="hiddenFirstNameRegisterInput" id="hiddenFirstNameAccountInput"
                    name="hiddenFirstNameRegisterInput"
                    type="hidden"
                    value=firstName
                    )
                div(class=( locals.error2 ? "error red" : "error"), id="errorInfoProfil") #{error2}
                hr(class="hr-login")
                div(class="sex-user") tu es :
                    div(class="container-checkbox")
                        div(class="sex-user-input") un homme
                            input(
                            class="input-sex-user-male checkbox-account"
                            type="radio" name="input-sex-user"
                            checked=(sex == 1 ? true : false)
                            value="1"
                            onclick="submitForm('sex')"
                            )
                        div(class="sex-user-input") une femme
                            input(
                            class="input-sex-user-female checkbox-account"
                            type="radio" name="input-sex-user"
                            checked=(sex == 2 ? true : false)
                            value="2"
                            onclick="submitForm('sex')"
                            )
                div(class=( locals.error3 ? "error red" : "error"), id="errorInfoSex") #{error3}
                div(class="orientation-user") tu recherches :
                    div(class="container-checkbox")
                        div(class="orientation-user-input") un homme
                            input(
                                class="input-orientation-user checkbox-account"
                                type="radio" name="input-orientation-user"
                                checked=(orientation == 1 ? true : false)
                                value="1"
                                onclick="submitForm('orientation')"
                            )
                        div(class="orientation-user-input") une femme
                            input(
                                class="input-orientation-user checkbox-account"
                                type="radio" name="input-orientation-user"
                                checked=(orientation == 2 ? true : false)
                                value="2"
                                onclick="submitForm('orientation')"
                            )
                        div(class="orientation-user-input") les deux
                            input(
                                class="input-orientation-user checkbox-account"
                                type="radio" name="input-orientation-user"
                                checked=(orientation == 3 ? true : false)
                                value="3"
                                onclick="submitForm('orientation')"
                            )
                div(class=( locals.error4 ? "error red" : "error"), id="errorInfoOrientation") #{error4}
                div(class="biographie-account") A propos de toi :
                    div: textarea(
                        class="bio-account" id="bioAccount"
                        type="text"
                        name="bioAccount"
                        onblur="submitForm('bio')"
                    ) #{bio}
                div(class=( locals.error5 ? "error red" : "error"), id="errorInfoBio") #{error5}
                div(class="tags-account") Tags d'interets :
                    div(class=( locals.error6 ? "error red" : "error"), id="errorTag") #{error6}
                    div(class="container-tags" id="container-tags")
                        if tags
                            for tag in tags
                                div(
                                class="tags button"
                                id=tag.id
                                onclick="addTag(" + tag.id + ")"
                                ) ##{tag.tag}
                    input(class="tags-input-account", type="text", name="tags-input-account")
                    div(class="button account") ajouter ce tag !